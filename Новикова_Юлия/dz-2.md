# Use Case: Генерация персонализированного фитнес-плана с использованием AI

| Элемент Use Case | Описание |
|-|-|
| **Заголовок** | Генерация адаптивного фитнес-плана с помощью AI-ассистента в Telegram-боте |
| **Акторы** | - Основной: Пользователь (18-100 лет)<br>- Вторичный: Telegram-бот (Python)<br>- AI-компонент: LLM (GPT-4/Mistral) |
| **Предусловие** | 1. Подключение к API LLM<br>2. Наличие векторной базы знаний о тренировках<br>3. Установленный Python-бот в Telegram |
| **Ограничения** | 1. Возраст строго 18-100 лет<br>2. Таймаут 15 минут на ответ<br>3. Максимальная частота: 1 генерация/24 часа<br>4. Лимит: 1 бесплатный запрос в день к AI |
| **Триггер** | Пользователь отправляет команду `/start` в Telegram-боте |
| **Основной сценарий** | 1. Пользователь запускает бота командой `/start`<br>2. Система проверяет временную метку последнего запроса<br>3. Последовательно запрашивает: возраст (18-100), пол, вес, рост, цель<br>4. Формирует промпт для AI с учетом введенных данных и контекста из RAG<br>5. Получает и выводит персонализированный план тренировок |
| **Альтернативный сценарий** | A1. Возраст <18 лет: отказ с пояснением<br>A2. Некорректный ввод: повторный запрос параметра<br>A3. Превышение таймаута 15 мин: сброс сессии |
| **Исключительный сценарий** | E1. Ошибка API AI: уведомление пользователя<br>E2. Превышение суточного лимита: сообщение о времени ожидания<br>E3. Технические сбои: сохранение черновика |

## Дополнительные параметры

| Параметр | Значение |
|-|-|
| **Технологии AI**  | GPT-4/Mistral API |
| **Логирование** | PostgreSQL (история запросов) |
| **Лимиты** | 1 запрос в день на пользователя |
