# Use Case: «Рекомендации фильмов в Telegram-боте» (Кинобот)

## Авторы
- Пользователь (основной автор)
- Telegram-бот
- API рекомендательной системы
- База данных фильмов (Kinopoisk/IMDb)

## Предусловие
1. Пользователь начал диалог с ботом (/start)
2. Бот имеет доступ к:
   - истории оценок (/rate командой)
   - списку "избранное" (/fave)
   - предпочтениям (/prefs)

## Постусловие
1. Пользователь получает до 5 рекомендаций в виде:
   - Красивых карточек с постерами
   - Кнопок действий ("смотреть", "позже", "не нравится")
   - Ссылок на стриминги (если получится)

## Ограничения
1. Максимум 5 карточек за один запрос
2. Только фильмы/сериалы с русской локализацией
3. Для новых пользователей - ограниченный набор рекомендаций

## Триггер
Пользователь хочет получить персонализированные рекомендации фильмов/сериалов и:
- отправляет команду /recommend
- нажимает кнопку "подобрать кино"
- выбирает опцию "по настроению" в меню бота

## Основной сценарий
1. Пользователь отправляет /recommend
2. Бот спрашивает:
   "какое настроение? (кнопки: комедия, драма, триллер и т.д.)"
3. После выбора настроения:
   "сколько времени есть? (<90 мин, 90-120 мин, >120 мин)"
4. Бот формирует и показывает карусель рекомендаций:
   - Постер + название (1984) ★8.7
   - "Почему вам подойдет: Похоже на ваш любимый 'Назад в будущее'"
   - Кнопки: смотреть | позже | не нравится

## Альтернативные сценарии
### Для новых пользователей:
1. При первом /recommend:
   "Давайте узнаем ваши вкусы! Ответьте на 3 вопроса:"
   - Любимый жанр? (кнопки)
   - Любимый актер/режиссер? (текстовый ввод)
   - Последний понравившийся фильм?

### При отсутствии вариантов:
"По вашим критериям ничего не найдено, попробуйте:"
- Расширить поиск (/broaden)
- Посмотреть популярное (/popular)

## Обработка ошибок
1. При таймауте API:
   "Кинотеатр на перерыве. Попробуйте через пару минут!"
2. При проблемах с данными:
   "Не могу прочитать ваши предпочтения. Обновите профиль /profile"

## Критерии успеха
1. 70% пользователей сохраняют ≥1 рекомендацию
2. Среднее время до выбора фильма <2 мин
3. 40% возвращаемости к боту в течение недели
