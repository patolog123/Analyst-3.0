## Use Case: Добавление новой транзакции через текстовый запрос

| **Атрибут**                     | **Описание**                                                                                                                                                                                                                                                                                                                                       |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Заголовок**                   | Добавление новой транзакции через текстовый запрос                                                                                                                                                                                                                                                                                                 |
| **Акторы**                      | Пользователь                                                                                                                                                                                                                                                                                                                                       |
| **Предусловие**                 | Пользователь запустил чат-бота, бот имеет доступ к БД для записи транзакции                                                                                                                                                                                                                                                                        |
| **Ограничения**                 | Бот понимает только текстовые запросы<br/>Все данные вводятся вручную<br/>Распознование категории работает для ограниченного набора (еда, транспорт, развлечения и тд)                                                                                                                                                                             |
| **Триггер**                     | Пользователь отправляет боту сообщение (например, "Потратил 500р на такси")                                                                                                                                                                                                                                                                        |
| **Основной сценарий**           | 1. Бот определяет тип операции(доход/расход), категорию и сумму<br/> 2. Выводит полученную инфу для подтверждения:<br/>"Тип: расход Категория: транспорт Сумма: 500 Записываю?"<br/>3. Пользователь подтверждает запись транзакции (пишет "да")<br/>4. Информация о транзакции сохраняется в бд <br/>5. Бот выводит статистику транзакций за месяц |
 **Альтернативный сценарий**     | 3. Пользователь выбирает другую категорию расхода (пишет "поменяй категорию на развлечения") 4. Бот меняет категорию и выводит полученную инфу для подтверждения:<br/>"Тип: расход Категория: развлечения Сумма: 500 Записываю?"<br/>5. Переход к шагу 3 основного сценария                                                                        
| **Исключительный сценарий**     | 1. Бот не понял сумму или категорию и попросил переписать сообщение в удобном ему формате <br/>"Не понял сумму. Напишите, например: 'Потратил 500 на еду'"<br/>2. Ошибка сохранения(проблема с бд). Бот сообщает, что не удалось сохранить транзакцию                                                                                              |
| **Результат / Критерии успеха** | Транзакция сохранена, бот выводит статистику транзакций за месяц с учетом добавленной транзакции                                                                                                                                                                                                                                                   |

                                                                                                                                                                                              |
                                                                                                                        