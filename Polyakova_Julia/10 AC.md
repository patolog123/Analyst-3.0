# Критерии приемки для проекта HairCare AI агент

## Общие критерии
- [ ] Пользователь может отправить текст состава средства для волос в Telegram-бот.
- [ ] Текст состава должен быть длиной не более 4000 символов.
- [ ] Если текст слишком короткий или содержит менее 2 ингредиентов, бот запрашивает уточнение.
- [ ] При успешной отправке текста бот возвращает анализ состава с категориями и эффектами ингредиентов.
- [ ] Анализ включает распознанные ингредиенты, их категории, эффекты и список неизвестных компонентов.
- [ ] Если часть компонентов не найдена в каталоге, бот уведомляет пользователя о частичном результате.
- [ ] В случае ошибки парсинга бот информирует пользователя о невозможности распознать состав.
- [ ] Время обработки запроса не превышает 60 секунд.
- [ ] При превышении времени ожидания бот уведомляет пользователя о таймауте и предлагает повторить запрос позже.
- [ ] Все данные анализа сохраняются в базе данных с привязкой к пользователю (user_telegram_id).
- [ ] Для каждого анализа сохраняется исходный текст, промежуточный результат парсинга и финальный результат.
- [ ] Для каждого ингредиента сохраняется позиция в тексте, совпавшее имя и уровень уверенности.

## Технические критерии
- [ ] API принимает POST запросы с текстом состава по endpoint `/analyze/text`.
- [ ] Валидация входных данных проверяет длину и минимальное количество ингредиентов.
- [ ] Результат анализа возвращается в формате JSON с четкой структурой.
- [ ] Все ошибки обрабатываются и возвращаются с понятными сообщениями.
- [ ] Логирование всех запросов и ошибок для последующего аудита.
