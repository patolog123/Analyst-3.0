# AI агент: телеграмм бот "Личный ИИ ассистент" 

## Use Cases для системы планирования в Telegram

---

## Use Cases: Итерация - 1

> User Story:
>
> <b>Как</b> пользователь Telegram, я
<b>хочу</b> загрузить описание своих целей, приоритетов, ограничений по времени,
<b>чтобы</b> получить расписание на день/неделю/месяц с возможностью его редактирования и рекомендации по улучшению планирования и достижения целей.

---

### UC-1: Создание расписания
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:**  
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен

**Ограничения:**  
1. Обязательные данные: цели, приоритеты, временные ограничения
2. Максимальное количество целей: 3
3. Максимальный период: месяц

**Триггер:** Пользователь нажимает "Старт"

**Основной сценарий:**  
1. Система предлагает ввести данные по шаблону (шаблон в самом сообщении)
2. Пользователь отправляет сообщение с данными по шаблону или в свободной форме
3. Система проверяет наличие нужных данных
4. Система проверяет ограничения
5. Система генерирует расписание
5. Бот отправляет сообщение с расписанием и рекомендациями

**Альтернативные сценарии:**  
- Отсутствуют обязательные данные → запрос недостающих данных
- Превышено максимальные количество целей → запрос на изменение/редактирование целей
- Ошибка сервера → уведомление о временной недоступности

> По возможности:
>
> **Постусловия:**  
> - Расписание сохранено в истории
> - Расписание доступно для просмотра
> - В Меню возможен выбор: старт (генерация нового расписания), расписание на месяц (на оставшиеся дни), расписание на неделю (текущую), расписание на сегодня, расписание на завтра

---

## Use Cases: Итерация - 2

> User Story:
>
> <b>Как</b> пользователь Telegram, я
<b>хочу</b> загрузить описание своих целей, приоритетов, ограничений по времени,
<b>чтобы</b> получить расписание на день/неделю/месяц с возможностью его редактирования и рекомендации по улучшению планирования и достижения целей.

---

### UC-1: Загрузка данных для планирования
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:**  
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен

**Ограничения:**  
1. Обязательные данные: цели, приоритеты, временные ограничения
2. Максимальное количество целей: 3

**Триггер:** Пользователь нажимает "Начать планирование"

**Основной сценарий:**  
1. Пользователь отправляет сообщение с данными в свободной форме 
2. Система проверяет наличие нужных данных
3. Система проверяет ограничения
4. Система сохраняет данные в профиле пользователя  
5. Бот отправляет подтверждение успешной загрузки  

**Альтернативные сценарии:**  
- Отсутствуют обязательные данные → запрос недостающих данных
- Превышено максимальные количество целей → запрос на изменение/редактирование целей
- Ошибка сервера → уведомление о временной недоступности  

**Постусловия:**  
- Данные сохранены в профиле пользователя  
- Доступны для генерации расписания  

---

### UC-2: Генерация расписания 
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:**  
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен
4. Данные для планирования загружены (UC-1)

**Ограничения:**  
1. Максимальный период: 1 месяц
2. Минимальный временной блок (на день): 30 минут
3. Доступные периоды: день/неделя/месяц
4. Расписание на месяц генерируется блоками по неделям (обобщенно)

**Триггер:** Пользователь нажимает "Создать расписание"

**Основной сценарий:**  
1. Система предлагает сначала создать и уточнить расписание на весь период (месяц), если оно еще не создано
2. Система запрашивает период для создания расписания
3. Пользователь выбирает период
4. Система генерирует расписание на основе сохраненных данных
5. Бот отправляет расписание в виде сообщения
6. Черновик расписания сохранен в истории
7. Бот запрашивает подтверждение или изменение расписания
8. Пользователь вносит изменениея / подтверждает расписание

**Альтернативные сценарии:**  
- Недостаточно данных → запрос дополнительной информации
- Ошибка генерации → уведомление с временем решения
- Пользователь не подтвердил → при попытке запроса/редактирования расписания пользователь получает уведомление, что сохранен черновик расписания и предложение продолжить редактирование или сгенерировать расписание заново

**Постусловия:**  
- Расписание сохранено в истории
- Расписание доступно для просмотра и редактирования

---

### UC-3: Редактирование расписания 
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:**  
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен
4. Расписание сгенерировано (UC-2)  
5. Пользователь открыл расписание

**Ограничения:**  
1. Доступные периоды: день/неделя
2. История изменений хранится 30 дней  
3. Одновременно можно редактировать только с 1 устройства  

**Триггер:** Пользователь нажимает "Редактировать расписание"  

**Основной сценарий:**  
1. Система запрашивает период для редактирования
2. Пользователь выбирает период
3. Система показывает расписание на данный период
4. Пользователь выбирает период задачу для редактирования   
5. Пользователь вносит изменения
6. Система сохраняет новую версию  
7. Бот подтверждает успешное изменение  

**Альтернативные сценарии:**  
- Конфликт изменений → уведомление о конфликте 
- Ошибка синхронизации → уведомление о проблеме  
- Отмена редактирования → возврат к исходному расписанию  

**Постусловия:**  
- Новая версия расписания сохранена  
- Изменение отражено в истории  

---

### UC-4: Запрос расписания 
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:**
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен
4. Расписание сгенерировано (UC-2) 

**Ограничения:**
1. Доступные периоды: день/неделя/месяц

**Триггер:** Пользователь нажимает "Мое расписание"  

**Основной сценарий:**  
1. Система запрашивает период 
2. Пользователь выбирает период
3. Система показывает расписание на данный период

**Альтернативные сценарии:** 
- Ошибка синхронизации → уведомление о проблеме

---

## Use Cases: Итерация - 3

> User Story:
>
> <b>Как</b> пользователь Telegram, я
<b>хочу</b> загрузить описание своих целей, приоритетов, ограничений по времени,
<b>чтобы</b> получить расписание на день/неделю/месяц с возможностью его редактирования, получить анализ дня/недели/месяца и рекомендации по улучшению планирования и достижения целей.

---

### UC-5: Отметка о выполнении задач
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:**
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен
4. Расписание сгенерировано (UC-2)  
5. Пользователь открыл расписание на день

**Ограничения:**  
1. Одновременно можно отмечать выполнение только с 1 устройства  

**Триггер:** Пользователь пишет "задача №' выполнена" 

**Основной сценарий:**  
1. Пользователь пишет "задача №' выполнена"/"задача №' выполнена частично"
2. Система сохраняет изменения  
3. Бот поздравляет с успешным выполнением

**Альтернативные сценарии:** 
- Ошибка синхронизации → уведомление о проблеме 

**Постусловия:**   
- Выполнение задачи отражено в истории  

---

### UC-6: Анализ и рекомендации (автоматический отчет за день)
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:**
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен
4. Имеется история сгенерированных расписаний
5. Прошло ≥1 дня с момента использования расписания  
6. Есть данные о выполнении задач  

**Ограничения:**  
1. Анализ доступен только за текущий период
2. Автоматический отчет генерируется раз в сутки
3. Комментарии ограничены 2000 символов

**Триггер:** Наступление времени отчета (21:00)  

**Основной сценарий:**  
1. Система анализирует выполнение задач  
2. Генерируется отчет с графиками прогресса  
3. Формируются персонализированные рекомендации 
4. Бот отправляет отчет пользователю
5. Отчет сохраняется в системе
6. Пользователю предлагается внести комментарии
7. Пользователь добавляет комментарии и/или нажимает "ок"
8. Комментарии сохраняются в системе

**Альтернативные сценарии:**  
- Нет данных для анализа → базовые рекомендации
- Пользователь пишет комментарий, превышающий максимально возможную длину → напоминание об ограничении и просьба отредактировать
- Ошибка генерации → сообщение о переносе отчета  

**Постусловия:**  
- Отчет сохранен в истории 

### UC-7: Анализ и рекомендации (отчет по требованию)
**Акторы:**  
- Основной: Пользователь Telegram
- Вторичные: Бот Telegram, Сервис хранения данных

**Предусловия:** 
1. Пользователь авторизован в Telegram  
2. Бот активен и доступен
3. Сервис хранения данных активен и доступен 
4. Имеется история сгенерированных расписаний
5. Прошло ≥1 дня с момента использования расписания  
6. Есть данные о выполнении задач  

**Ограничения:**  
1. Анализ доступен только за текущий период
2. Минимальный период - день, максимальный - месяц
3. Комментарии ограничены 2000 символов

**Триггер:** Пользователь нажимает "Анализ"

**Основной сценарий:**  
1. Пользователь выбирает период для анализа
2. Система анализирует выполнение задач  
3. Генерируется отчет с графиками прогресса  
4. Формируются персонализированные рекомендации 
5. Бот отправляет отчет пользователю
6. Отчет сохраняется в системе
7. Пользователю предлагается внести комментарии
8. Пользователь добавляет комментарии и/или нажимает "ок"
9. Комментарии сохраняются в системе

**Альтернативные сценарии:**  
- Нет данных для анализа → уведомление 
- Пользователь запрашивает отчет досрочно → ограниченный анализ
- На данный период уже есть сгенерированный отчет → уведомление и вывод отчета
- Пользователь пишет комментарий, превышающий максимально возможную длину → напоминание об ограничении и просьба отредактировать
- Ошибка генерации → сообщение о переносе отчета  

**Постусловия:**  
- Отчет сохранен в истории
