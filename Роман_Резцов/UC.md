# Use Case: Подбор рецепта по ингредиентам и предпочтениям

**User Story:**  
**Как** пользователь, **я хочу**, чтобы агент предлагал случайные рецепты на основе моих доступных ингредиентов, кулинарных предпочтений и диетических ограничений, **чтобы** легко определиться с блюдом для приготовления.

**Участники:**  
- **Основной актор**: Пользователь  
- **Вторичные акторы**: Бот  

**Цель:**  
Получить персонализированный рецепт, соответствующий доступным ингредиентам, кулинарным предпочтениям и диетическим ограничениям.

**Предусловия:**  
1. Пользователь имеет ингредиенты для приготовления блюда.  
2. Пользователь готов предоставить данные о предпочтениях и ограничениях.  
3. Бот имеет доступ к информации о рецептах.  

**Ограничения:**  
1. Пользователь может указать до 10 ингредиентов за запрос.  
2. Бот предлагает рецепты на основе доступной информации.  

**Триггер:**  
Пользователь инициирует запрос на подбор рецепта.

**Основной сценарий:**  
1. Пользователь инициирует запрос на подбор рецепта.  
2. Бот запрашивает у пользователя доступные ингредиенты, кулинарные предпочтения и диетические ограничения.  
3. Пользователь предоставляет данные (ингредиенты, предпочтения, ограничения).  
4. Бот анализирует предоставленные данные для формирования критериев подбора.  
5. Бот формирует критерии подбора на основе введённых данных.  
6. Бот подбирает рецепты, соответствующие критериям.  
7. Бот случайным образом выбирает один подходящий рецепт.  
8. Бот предоставляет пользователю рецепт (название, ингредиенты, инструкция).  

**Альтернативные сценарии:**  
- **A1: Уточнение диетических ограничений**  
  3а. Пользователь не указал диетические ограничения.  
  4а. Бот запрашивает: "Есть ли диетические ограничения, например, аллергии?"  
  5а. Пользователь предоставляет уточнённые данные (или подтверждает их отсутствие).  
  -- Переход к шагу 4 основного сценария.  
- **A2: Не найдено подходящих рецептов**  
  6а. Бот не находит подходящих рецептов.  
  7а. Бот запрашивает дополнительные ингредиенты у пользователя.  
  8а. Пользователь предоставляет дополнительные ингредиенты.  
  -- Переход к шагу 5 основного сценария.  

**Исключительные сценарии:**  
- **E1: Пользователь отказывается уточнять ингредиенты**  
  6б. Бот не находит подходящих рецептов.  
  7б. Бот запрашивает дополнительные ингредиенты.  
  8б. Пользователь отказывается предоставить ингредиенты.  
  9б. Бот сообщает: "Рецепты не найдены, попробуйте изменить запрос."  
  Результат: Рецепт не получен.  
- **E2: Сбой обработки запроса**  
  4б. Сбой при анализе данных или подборе рецептов.  
  5б. Бот сообщает: "Произошла ошибка, попробуйте позже."  
  Результат: Рецепт не получен.  

**Постусловия:**  
1. Пользователь получил подходящий рецепт.
