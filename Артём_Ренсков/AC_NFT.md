## Acceptance Criteria (Критерии приёмки)

Автоматическая генерация постов на основе истории канала

- **AC001**  
  Дано: У канала сохранено минимум 3 поста.  
  Когда: Пользователь отправляет команду `/newpost`.  
  Тогда: Бот анализирует историю и предлагает 2–3 идеи для новых постов.  

- **AC002**  
  Дано: Бот предложил 2–3 идеи.  
  Когда: Пользователь выбирает идею.  
  Тогда: Бот предлагает 2–3 варианта стиля (структуры) поста.  

- **AC003**  
  Дано: Пользователь выбрал стиль.  
  Когда: Подтверждает генерацию.  
  Тогда: Бот создаёт черновик поста и отправляет пользователю.  

- **AC004 (альтернативный)**  
  Дано: У канала нет сохранённой истории постов.  
  Когда: Пользователь вводит `/addposts` и загружает хотя бы 3 поста вручную или через файл.  
  Тогда: Бот сохраняет посты в базу и сообщает:  
  _"Готов предложить новые идеи на основе истории. Напишите /newpost."_  

- **AC005 (альтернативный)**  
  Дано: Пользователь не выбирает предложенную идею.  
  Когда: Он вводит свою тему.  
  Тогда: Бот принимает тему как входные данные и строит генерацию на её основе.  

- **AC006 (ошибки)**  
  Дано: AI API недоступен или превышен лимит.  
  Когда: Пользователь отправляет `/newpost`.  
  Тогда: Бот сообщает: _"Ошибка генерации. Попробуйте позже."_  

---

## Нефункциональные требования

#### NFR001 - Надёжность
1. Система должна быть доступна 99% времени.  
2. При сбое внешнего AI API бот должен уведомлять пользователя и предлагать повторить запрос.  

#### NFR002 - Производительность
1. Время отклика бота на команду `/newpost` не должно превышать 5 секунд при стабильном соединении с AI API.  
2. Сохранение постов в базу (`/addposts`) должно занимать не более 1 секунды на пост.  

#### NFR003 - Масштабируемость
1. Система должна поддерживать работу минимум 100 активных пользователей одновременно.  
2. Архитектура API должна позволять переход на вебхуки без изменения логики бота.  

#### NFR004 - Безопасность
1. Все токены (Telegram, AI, DB) должны храниться в `.env` и не попадать в кодовую базу.  
2. API должен работать по HTTPS при разворачивании на сервере.  
3. Пользовательские данные (история постов, ID) не должны передаваться в сторонние сервисы, кроме AI API.  

#### NFR005 - Удобство использования
1. После каждого шага пользователь получает явное подтверждение (например: "✅ Пост сохранён").  
2. Подсказки должны объяснять следующий шаг ("Выберите стиль", "Отправьте посты").  