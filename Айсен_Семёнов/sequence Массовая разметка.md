``` mermaid
sequenceDiagram
  autonumber
  actor A as Аналитик
  participant UI as Интерфейс
  participant S as Сервер
  participant W as Фоновый обработчик
  participant DB as База данных

  A->>UI: Выбрать несколько артефактов → «Авторазметка»
  UI->>S: Старт массовой разметки (ids[])
  Note over S,W: Фон: сервер поручает обработчику
  S-->>UI: Показать «задача запущена»
  W->>DB: Для каждого артефакта — сохранить рекомендации
  A->>UI: Открыть «Рекомендации»
  UI->>S: Получить список рекомендаций
  S-->>UI: Рекомендованные теги
  A->>UI: Принять/отклонить (пакетом или поштучно)
  UI->>S: Сохранить решения
  S->>DB: Обновить artifact_tags + записать tag_events
  S-->>UI: «Готово»
  ```
