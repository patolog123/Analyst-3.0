### UC-001: Получение отчета о качестве общения с клиентами

**Участники:**

- Основной: Владелец компании

- Вторичные: Система отчестности (Python), Telegram-бот (Интерфейс), API Авито (Источник данных), API DeepSeek (NLP-Анализ)

**Предусловия:**

1. Telegram-бот активирован и подключен к системе отчетности

2. Настроены корректные API-ключи для:

    - Авито (с правами на чтение сообщений)

    - DeepSeek (с доступом к NLP-анализу)

3. Владелец имеет активную сессию в Telegram

**Ограничения:**

1. Временной интервал автоматической отчетности - 24 часа

2. Ручные запросы - не чаще 4 раз/час

**Триггеры:**

1. Автоматический: Наступление установленного времени ежедневной отправки отчетов (например, 09:00)

2. Ручной: Нажатие кнопки "Сформировать отчет" в Telegram-боте

**Основной сценарий (автоматический режим):**

1. Система запускается по расписанию (раз в 24 часа)

2. Система получает данные диалогов сотрудников с клиентами через API Авито

3. Система отправляет тексты диалогов на анализ через API DeepSeek

4. API DeepSeek возвращает оценки качества общения по каждому диалогу

5. Система формирует сводный отчет с оценками по сотрудникам

6. Telegram-бот отправляет отчет владельцу компании

7. Владелец компании получает отчет в установленное время

**Альтернативные сценарии:**

п.2: Если не было диалогов за период → отчет содержит сообщение "Активность отсутствует"

п.3: Если API Авито недоступно → отчет содержит сообщение "Сервис временно не доступен, попробуйте сформировать отчет позже"

п.4: Если API Deepseek недоступно → отчет содержит сообщение "Сервис временно не доступен, попробуйте сформировать отчет позже"

**Сценарий по требованию (ручной режим):**

1. Владелец компании нажимает кнопку "Сформировать отчет" в Telegram-боте

2. Бот отправляет запрос в систему

3. Система выполняет шаги 2-6 основного сценария

4. Владелец компании получает отчет по требованию

**Постусловия:**

1. Отчет успешно доставлен владельцу компании